<asmSim>

    <examples>
        <mini-asm>
            <default>
                <label>(0) Default</label>
                <code>
                    # This is a comment!
                    LOADI 7
                    ADDI 52
                    SUBI 5
                    MULI 10
                    ORI 2
                    SUB 0
                    DIVI 9
                    ADD 1
                    XORI 4
                    HALT
                </code>
            </default>
            <add>
                <label>(1.1) Addition 3+4</label>
                <code>
                    LOADI 3 # Loads the Number 3 in the accumulator
                    ADDI 4 # adds the integer 4 (int / immediate) to the accumulator
                    HALT # Stops the program / HALTs the program
                </code>
            </add>
            <variable>
                <label>(1.2) Memory Cells</label>
                <code>
                    LOADI 20 # Loads 20 into the accumulator
                    STORE 100 # Stores the accumulator (20) in the memory cell [100]
                    LOADI 321 # Stores 321 into the accumulator
                    STORE 101 # Stores the accumulator (321) in memory cell [101]
                    LOADI 42 # Loads 42 into the accumulator
                    STORE 102 # Stores the accumulator (42) in memory cell [102]
                    #
                    LOAD 102 # Loads the value of the memory cell [102] into the accumulator
                    ADD 101 # Adds the value of the memory cell [101] to the accumulators value
                    ADDI 1 # Adds one to the accumulator
                    STORE 99 # Stores the resulting number in the memory cell [99]
                </code>
            </variable>
            <formular>
                <label>(1.3) Math-Formula: 5*20 / 10 + 3 * 70</label>
                <code>
                    # First the order of operation is determined:
                    # ((5*20) / 10) + (3 * 70)
                    LOADI 3 # Lädt 3 in den Akkumulator
                    MULI 70 # Multipiziert mit der Zahl 70
                    STORE 100 # Das Ergebniss muss zwischengespeichert werden in Zelle 100
                    LOADI 5 # Lädt 5 in den Akkumulator
                    MULI 20 # Multipliziert mit der Zahl 20
                    DIVI 10 # Dividiert durch die Zahl 10
                    ADD 100 # Addiert mit dem Wert der Speicherzelle 100
                    HALT
                </code>
            </formular>
            <static-vars>
                <label>(1.4) Static Variables</label>
                <code>
                    # Addressing memory cells by hand gets confusing after some time
                    # That's why (static) int a = 2 can be used here like this:
                    #
                    a_i: WORD 2 # a_i ist der Name# WORD steht hier für int# 2 ist der Anfangswert
                    LOADI 7 # Lädt 7 in den Akkumulator
                    ADD a_i # Addiert den Wert der Speicherzelle a_i (2)
                    MUL a_i # Multipliziert mit dem Wert der Speicherzelle a_i (2)
                    HALT

                    # NOTE: "STATIC" is used here to differ from the more complex memory allocation
                    # models
                </code>
            </static-vars>
            <goto>
                <label>(2.1) GoTo / Jump</label>
                <code>
                    LOADI 3 # Addr. 0-1
                    ADDI 7 # Addr. 2-3
                    JMP 10 # Jump - Jumps with the program-counter (pc) to address [10]
                    SUBI 10 # Addr. 6-7 - Is Skipped!
                    MULI 100 # Addr. 8-9 - Is Skipped!
                    DIVI 10 # Addr. 10-11
                    JMP end # Counting addresses is annoying, so we use labels/markers instead
                    ADDI 11592 # Is Skipped
                    DIVI 100 # Is Skipped
                    MULI 3 # Is Skipped
                    end: # This is a label / marker
                    HALT
                </code>
            </goto>
            <if-condition>
                <label>(2.2) if-Condition
                </label>
                <code>
                    # Code in Java:
                    # int a = 5# if(a == 2) {a += 2#}
                    a_i: WORD 5
                    LOAD a_i
                    CMPI 2
                    # Subtracts the number 2 from the accumulator
                    # The result is only stored in flags
                    # If the result is negative → set N Flag
                    # if the reuslt is zero → set Z Flag
                    JNE if_end
                    # Jumps if the values compared in the last CMPI / CMP instruction are not equal
                    # So, jumps if the Z-Flag is not set
                    ADDI 2
                    if_end:
                    STORE a_i
                    HALT
                </code>
            </if-condition>
            <while-loop>
                <label>(2.3) while-loop</label>
                <code>
                    # Code in Java:
                    # int b = 0# int a = 15# while(a > 5) {a--#b++#}
                    b_i: WORD 0
                    a_i: WORD 15

                    while1_start:
                    LOAD a_i
                    CMPI 5
                    JLE while1_end
                    SUBI 1
                    STORE a_i
                    LOAD b_i
                    ADDI 1
                    STORE b_i
                    JMP while1_start
                    while1_end:
                    HALT

                    # NOTE: for and while loops were introduced to make code more readable but don't
                    # differ for the CPU
                </code>
            </while-loop>
            <for-loop>
                <label>(2.4) for-loop</label>
                <code>
                    # Code in Java:
                    # int b = 0# int a = 15# while(a > 5) {a--#b++#}
                    b_i: WORD 0
                    a_i: WORD 15

                    while1_start:
                    LOAD a_i
                    CMPI 5
                    JLE while1_end
                    SUBI 1
                    STORE a_i
                    LOAD b_i
                    ADDI 1
                    STORE b_i
                    JMP while1_start
                    while1_end:
                    HALT

                    # NOTE: for and while loops were introduced to make code more readable but don't
                    # differ for the CPU
                </code>
            </for-loop>
            <example-power>
                <label>(2.5) Multiplication with loop</label>
                <code>
                    multip1_i: WORD 0
                    multip2_i: WORD 15
                    ret_i: WORD 0
                    while1_start:
                    LOAD multip2_i
                    CMPI 0
                    JLE while1_end
                    SUBI 1
                    STORE multip2_i
                    LOAD ret_i
                    ADD multip1_i
                    STORE ret_i
                    JMP while1_start
                    while1_end:
                    LOAD ret_i
                    HALT
                </code>
            </example-power>
            <example-parser>
                <label>(2.6) Solving encodings</label>
                <code>
                    hexcode_i: WORD 10 # Hex coded number (with base 16)
                    basis_i: WORD 16 # Number with base
                    factor_i: WORD 1 # factor multiplied with the current digit
                    ret_i: WORD 0 # return value

                    start:
                    # as long as there are is a digit left
                    LOAD hexcode_i
                    CMPI 0
                    JLE end
                    MODI 10 # Only the last digit of the number
                    MUL factor_i # multiply with the current factor
                    ADD ret_i # Add it to the current result
                    STORE ret_i
                    # Multiply to the factor the basis
                    LOAD factor_i
                    MUL basis_i
                    STORE factor_i
                    # Remove the last digit of the code
                    LOAD hexcode_i
                    DIVI 10
                    STORE hexcode_i
                    JMP start
                    end:
                    LOAD ret_i
                    HALT
                </code>
            </example-parser>
            <stack-usage>
                <label>(3.0) Stack</label>
                <code>
                    # Please activate the stack-pointer for this!
                    LOADI 7
                    PUSH
                    LOADI 2
                    PUSH
                    LOADI 10
                    PUSH
                    LOADI 5
                    PUSH
                    GETSTACK -1
                    ADDI 7
                    SETSTACK -1
                    POP
                    HALT
                </code>
            </stack-usage>
            <second-register>
                <label>(3.1) Second register</label>
                <code>
                    # Please activate the BX-Register
                    LOADBI 20 # Loads 20 into the BX-Register
                    LOADI 5 # Loads 5 into the accumulator
                    ADDI 5 # Adds 5 to the accumulator
                    XCHG # Switches the two registers accumulator and bx
                    STOREB 100 # Store the value of bx in the memory cell [100]
                </code>
            </second-register>
            <pow-function>
                <label>(3.2) Function Call</label>
                <code>
                    LOADI 4
                    LOADBI 2
                    CALL tut_etwas
                    HALT
                    tut_etwas:
                    ADDI 2
                    MULI 5
                    RETURN

                </code>
            </pow-function>
        </mini-asm>
        <java>
            <default>
                <label>Default</label>
                <code>
                    class Main{
                    public static void main(){
                    System.out.println("Hello!")#
                    a+b#
                    ()->{System.out.println("Hi")#
                    }#
                    }
                    }
                </code>
            </default>
            <if-condition>
                <label>if-Condition</label>
                <code>
                    class Main{
                    public static void main(){
                    int a = 2# a+=3#
                    System.exit(a)#
                    }
                    }
                </code>
            </if-condition>
        </java>
    </examples>
</asmSim>